/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE */;
/*!40101 SET SQL_MODE='' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES */;
/*!40103 SET SQL_NOTES='ON' */;

DROP DATABASE IF EXISTS `test`;
CREATE DATABASE `test`;
USE `test`;

DROP TABLE IF EXISTS `dept`;
CREATE TABLE `dept`(
	`id` INT AUTO_INCREMENT, 
	`name` VARCHAR(20) NOT NULL DEFAULT '',
	`comment` VARCHAR(100),
	PRIMARY KEY(id)
);

DROP TABLE IF EXISTS `job`;
CREATE TABLE `job`(
	`id` INT AUTO_INCREMENT PRIMARY KEY,
	`name` VARCHAR(20) NOT NULL DEFAULT '',
	dept_id INT,
	`comment` VARCHAR(100),
	FOREIGN KEY(dept_id) REFERENCES dept(id)
);

DROP TABLE IF EXISTS `emp`;
CREATE TABLE `emp`(
	`id` INT AUTO_INCREMENT PRIMARY KEY,
	`name` VARCHAR(20) NOT NULL DEFAULT '',
	`job_id` INT,
	sal FLOAT NOT NULL DEFAULT 0,
	hire_date DATE NOT NULL DEFAULT '0000-00-00',
	leave_date DATE,
	manager INT,
	FOREIGN KEY(manager) REFERENCES emp(id),
	FOREIGN KEY(job_id) REFERENCES job(id)
);